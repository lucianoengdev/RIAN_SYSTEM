<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Portal do Cliente</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-slate-50">
    <nav class="bg-white shadow-sm border-b border-gray-200">
        <div class="max-w-7xl mx-auto px-4 py-8 grid grid-cols-1 gap-6">
            <div class="bg-white rounded-2xl shadow-sm border border-gray-100 p-8">
                <div class="flex justify-between items-center mb-6">
                    <div>
                        <h1 class="text-3xl font-bold text-gray-900">Olá, {{ client_name }}</h1>
                        <p class="text-gray-500">Visualização da sua carteira de ativos.</p>
                    </div>
                    {% if user.profile.excel_file %}
                    <a href="{{ user.profile.excel_file.url }}" class="text-sm text-indigo-600 hover:text-indigo-800 flex items-center gap-2">
                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4" /></svg>
                        Baixar Planilha Original
                    </a>
                    {% endif %}
                </div>

                <div class="overflow-x-auto border border-gray-200 rounded-lg">
                    {% if data and data.data %}
                    <table class="min-w-full divide-y divide-gray-200 text-sm">
                        <thead class="bg-gray-50">
                            <tr>
                                {% for col in data.columns %}
                                <th scope="col" class="px-6 py-3 text-left text-xs font-bold text-gray-500 uppercase tracking-wider border-r border-gray-200 last:border-r-0">
                                    {{ col }}
                                </th>
                                {% endfor %}
                            </tr>
                        </thead>
                        <tbody class="bg-white divide-y divide-gray-200">
                            {% for row in data.data %}
                            <tr class="hover:bg-gray-50 transition-colors">
                                {% for cell in row %}
                                <td class="px-6 py-4 whitespace-nowrap text-gray-700 border-r border-gray-100 last:border-r-0">
                                    {{ cell }}
                                </td>
                                {% endfor %}
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                    {% else %}
                    <div class="text-center py-10 bg-gray-50">
                        <p class="text-gray-500">Nenhuma planilha carregada ainda.</p>
                    </div>
                    {% endif %}
                </div>
                
                <p class="text-xs text-gray-400 mt-4 text-right">Dados atualizados automaticamente via sistema DataGuard.</p>
            </div>

        </div>

    </div>
</body>
</html>